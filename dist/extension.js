(()=>{"use strict";var e={265:function(e,t,n){var i,a=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,a)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(i=function(e){return i=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},i(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=i(e),o=0;o<n.length;o++)"default"!==n[o]&&a(t,e,n[o]);return r(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.activate=function(e){console.log('Congratulations, your extension "codetrack" is now active!');const t=l.commands.registerCommand("codetrack.helloWorld",(()=>{l.window.showInformationMessage("Hello World from codetrack!")}));e.subscriptions.push(t),d.globalCache.path=e.extensionPath,(0,c.loadProblems)(d.globalCache.path),e.subscriptions.push(l.window.registerWebviewViewProvider("filterView",new c.FilterViewProvider(e)));const n=new s.ProblemDataProvider(e),i=l.window.createTreeView("problemListView",{treeDataProvider:n,showCollapseAll:!0});e.subscriptions.push(i)},t.deactivate=function(){};const l=o(n(398)),c=n(573),s=n(892),d=n(556)},573:function(e,t,n){var i,a=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,a)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(i=function(e){return i=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},i(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=i(e),o=0;o<n.length;o++)"default"!==n[o]&&a(t,e,n[o]);return r(t,e),t}),l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FilterViewProvider=void 0,t.loadProblems=h;const c=o(n(398)),s=o(n(896)),d=n(890),_=n(556),u=n(61),f=l(n(928));function h(e){const t=[],n=f.default.join(e,"problems");s.existsSync(n)?s.readdirSync(n).forEach((e=>{const i=f.default.join(n,e,"meta.json");if(s.existsSync(i)){const e=s.readFileSync(i,"utf8"),n=JSON.parse(e);t.push({name:n.name,name_zh:n.name_zh,description:n.description,description_zh:n.description_zh,meta:n.meta,info:n.info,tags:n.tags})}})):(t.push({name:"问题1",name_zh:"问题1",description:"这是问题1的描述",description_zh:"这是问题1的描述",meta:{difficulty:u.DIFFICULTY_EASY,recommend:u.RECOMMEND_BASIC},info:{updateTime:"2023-10-01T12:00:00Z",status:u.STATUS_PLAN},tags:["数组"]}),t.push({name:"问题2",name_zh:"问题2",description:"这是问题2的描述",description_zh:"这是问题2的描述",meta:{difficulty:u.DIFFICULTY_MEDIUM,recommend:u.RECOMMEND_NEED},info:{updateTime:"2023-10-01T12:00:00Z",status:u.STATUS_PLAN},tags:["数组","哈希表"]}),t.push({name:"问题3",name_zh:"问题3",description:"这是问题3的描述",description_zh:"这是问题3的描述",meta:{difficulty:u.DIFFICULTY_HARD,recommend:u.RECOMMEND_CHALLENGE},info:{updateTime:"2023-10-01T12:00:00Z",status:u.STATUS_PLAN},tags:["数组"]}),t.push({name:"问题4",name_zh:"问题4",description:"这是问题4的描述",description_zh:"这是问题4的描述",meta:{difficulty:u.DIFFICULTY_EASY,recommend:u.RECOMMEND_BASIC},info:{updateTime:"2023-10-01T12:00:00Z",status:u.STATUS_PLAN},tags:["数组"]}),t.push({name:"问题5",name_zh:"问题5",description:"这是问题5的描述",description_zh:"这是问题5的描述",meta:{difficulty:u.DIFFICULTY_MEDIUM,recommend:u.RECOMMEND_NEED},info:{updateTime:"2023-10-01T12:00:00Z",status:u.STATUS_PLAN},tags:["数组","哈希表"]}));const i=function(e){const t=new Set;return e.forEach((e=>{e.tags.forEach((e=>{t.add(e)}))})),Array.from(t)}(t);_.globalCache.tags=i,_.globalCache.isInit&&(_.globalCache.filtertags=i,_.globalCache.isInit=!1);const a=t.filter((e=>(_.globalCache.filters.recommend_basic||e.meta.recommend!==u.RECOMMEND_BASIC)&&(_.globalCache.filters.recommend_need||e.meta.recommend!==u.RECOMMEND_NEED)&&(_.globalCache.filters.recommend_challenge||e.meta.recommend!==u.RECOMMEND_CHALLENGE)&&(_.globalCache.filters.status_plan||e.info.status!==u.STATUS_PLAN)&&(_.globalCache.filters.status_doing||e.info.status!==u.STATUS_DOING)&&(_.globalCache.filters.status_done||e.info.status!==u.STATUS_DONE)&&(_.globalCache.filters.difficulty_easy||e.meta.difficulty!==u.DIFFICULTY_EASY)&&(_.globalCache.filters.difficulty_mid||e.meta.difficulty!==u.DIFFICULTY_MEDIUM)&&(_.globalCache.filters.difficulty_hard||e.meta.difficulty!==u.DIFFICULTY_HARD)&&e.tags.some((e=>_.globalCache.filtertags.includes(e)))));return _.globalCache.problems=a,a}t.FilterViewProvider=class{_extensionContext;static viewType="filterView";_view;constructor(e){this._extensionContext=e}resolveWebviewView(e,t,n){this._view=e,e.webview.options={enableScripts:!0},e.webview.html=this.getHtmlForWebview(),c.commands.registerCommand("codetrack.refresh_filterView",(()=>{this.refresh()})),e.webview.onDidReceiveMessage((e=>{switch(e.command){case"search":c.commands.executeCommand("customTreeView.filterData",e.text);break;case"refreshConfig":this.refreshConfig(e.filters)}}))}refresh(){h(_.globalCache.path),d.EventManager.fireEvent(d.FILTEREVENT,_.globalCache.filters)}getHtmlForWebview(){return`\n            <!DOCTYPE html>\n            <html lang="en">\n            <head>\n                <style>\n                    body {\n                        width: 100%; /* Set width to 100% */\n                        height: 10%; /* Set height to 100% */\n                        margin: 0;\n                        padding: 0;\n                    }\n                    .container {\n                        padding: 10px;\n                    }\n                </style>\n            </head>\n            <body>\n                <div class="container">\n                    <label>问题路径：${_.globalCache.path}/problems</label>\n                    <hr>\n                    <label>推荐：</label>\n                    <label><input type="checkbox" id="recommend_basic" checked> ${u.RECOMMEND_BASIC_ZH}</label>\n                    <label><input type="checkbox" id="recommend_need" checked> ${u.RECOMMEND_NEED_ZH}</label>\n                    <label><input type="checkbox" id="recommend_challenge" checked> ${u.RECOMMEND_CHALLENGE_ZH}</label>\n                    <br>\n                    <label>状态：</label>\n                    <label><input type="checkbox" id="status_plan" checked> ${u.STATUS_PLAN_ZH}</label>\n                    <label><input type="checkbox" id="status_doing" checked> ${u.STATUS_DOING_ZH}</label>\n                    <label><input type="checkbox" id="status_done" checked> ${u.STATUS_DOING_ZH}</label>\n                    <br>\n                    <label>难度：</label>\n                    <label><input type="checkbox" id="difficulty_easy" checked> ${u.DIFFICULTY_EASY_ZH}</label>\n                    <label><input type="checkbox" id="difficulty_mid" checked> ${u.DIFFICULTY_MEDIUM_ZH}</label>\n                    <label><input type="checkbox" id="difficulty_hard" checked> ${u.DIFFICULTY_HARD_ZH}</label>\n                    <br>\n                    <label>排序：</label>\n                    <label><input type="radio" name="order" value="ascending" checked > ${u.ORDER_ASC_ZH}</label>\n                    <label><input type="radio" name="order" value="descending" > ${u.ORDER_DESC_ZH}</label>\n                    <hr>\n                    <label>标签：</label>\n                    ${_.globalCache.tags.map((e=>`<label><input type="checkbox" id="tag_${e}" checked> ${e}</label>`)).join("")}\n                    <hr>\n                    <script>\n                    const vscode = acquireVsCodeApi();\n\n                    // 添加事件监听器\n                    document.querySelectorAll('input[type="checkbox"], input[type="radio"]').forEach(input => {\n                        input.addEventListener('change', () => {\n                            // 收集所有复选框和单选按钮的值\n                            const filters = {};\n                            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {\n                                filters[checkbox.id] = checkbox.checked;\n                            });\n                            document.querySelectorAll('input[type="radio"]').forEach(radio => {\n                                if (radio.checked) {\n                                    filters[radio.name] = radio.value;\n                                }\n                            });\n                            vscode.postMessage({ command: 'refreshConfig', filters: filters });\n                        });\n                    });\n                    <\/script>\n                </div>\n            </body>\n            </html>\n        `}refreshConfig(e){_.globalCache.filters.recommend_basic=void 0===e.recommend_basic||e.recommend_basic,_.globalCache.filters.recommend_need=void 0===e.recommend_need||e.recommend_need,_.globalCache.filters.recommend_challenge=void 0===e.recommend_challenge||e.recommend_challenge,_.globalCache.filters.status_plan=void 0===e.status_plan||e.status_plan,_.globalCache.filters.status_doing=void 0===e.status_doing||e.status_doing,_.globalCache.filters.status_done=void 0===e.status_done||e.status_done,_.globalCache.filters.difficulty_easy=void 0===e.difficulty_easy||e.difficulty_easy,_.globalCache.filters.difficulty_mid=void 0===e.difficulty_mid||e.difficulty_mid,_.globalCache.filters.difficulty_hard=void 0===e.difficulty_hard||e.difficulty_hard,_.globalCache.filters.order=void 0!==e.order?e.order:u.ORDER_ASC,console.log("refreshconfig"),_.globalCache.filtertags=[];for(const t in e)if(t.startsWith("tag_")&&!0===e[t]){let e=t.substring(4);_.globalCache.filtertags.push(e)}console.log(_.globalCache.filtertags)}}},556:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.globalCache=void 0;const i=n(61);t.globalCache={filters:{recommend_basic:!0,recommend_need:!0,recommend_challenge:!0,status_plan:!0,status_doing:!0,status_done:!0,difficulty_easy:!0,difficulty_mid:!0,difficulty_hard:!0,order:i.ORDER_ASC},tags:[],filtertags:[],isInit:!0,problems:[],path:""}},61:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ORDER_DESC_ZH=t.ORDER_DESC=t.ORDER_ASC_ZH=t.ORDER_ASC=t.DIFFICULTY_HARD_ZH=t.DIFFICULTY_HARD=t.DIFFICULTY_MEDIUM_ZH=t.DIFFICULTY_MEDIUM=t.DIFFICULTY_EASY_ZH=t.DIFFICULTY_EASY=t.STATUS_DONE_ZH=t.STATUS_DONE=t.STATUS_DOING_ZH=t.STATUS_DOING=t.STATUS_PLAN_ZH=t.STATUS_PLAN=t.RECOMMEND_CHALLENGE_ZH=t.RECOMMEND_CHALLENGE=t.RECOMMEND_NEED_ZH=t.RECOMMEND_NEED=t.RECOMMEND_BASIC_ZH=t.RECOMMEND_BASIC=void 0,t.RECOMMEND_BASIC="basic",t.RECOMMEND_BASIC_ZH="基础",t.RECOMMEND_NEED="need",t.RECOMMEND_NEED_ZH="中级",t.RECOMMEND_CHALLENGE="challenge",t.RECOMMEND_CHALLENGE_ZH="高级",t.STATUS_PLAN="plan",t.STATUS_PLAN_ZH="计划",t.STATUS_DOING="doing",t.STATUS_DOING_ZH="进行",t.STATUS_DONE="done",t.STATUS_DONE_ZH="完成",t.DIFFICULTY_EASY="easy",t.DIFFICULTY_EASY_ZH="简单",t.DIFFICULTY_MEDIUM="mid",t.DIFFICULTY_MEDIUM_ZH="中等",t.DIFFICULTY_HARD="hard",t.DIFFICULTY_HARD_ZH="困难",t.ORDER_ASC="ascending",t.ORDER_ASC_ZH="升序",t.ORDER_DESC="descending",t.ORDER_DESC_ZH="降序"},890:function(e,t,n){var i,a=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,a)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(i=function(e){return i=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},i(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=i(e),o=0;o<n.length;o++)"default"!==n[o]&&a(t,e,n[o]);return r(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=t.FILTEREVENT=void 0;const l=o(n(398));t.FILTEREVENT="refreshData";class c{static _onGlobalEvent=new l.EventEmitter;static onGlobalEvent=c._onGlobalEvent.event;static fireEvent(e,t){this._onGlobalEvent.fire({type:e,payload:t})}}t.EventManager=c},892:function(e,t,n){var i,a=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,a)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(i=function(e){return i=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},i(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=i(e),o=0;o<n.length;o++)"default"!==n[o]&&a(t,e,n[o]);return r(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.ProblemItem=t.ProblemDataProvider=void 0;const l=o(n(398)),c=n(890),s=n(556);t.ProblemDataProvider=class{context;_onDidChangeTreeData=new l.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;constructor(e){this.context=e,c.EventManager.onGlobalEvent((({type:e,payload:t})=>{e===c.FILTEREVENT&&(console.log("TreeView 收到事件：",t),this.refresh())}))}getTreeItem(e){return e}getChildren(e){return e?Promise.resolve([]):Promise.resolve(s.globalCache.problems.map((e=>new d(e.name,e.description,e.description_zh,e.meta,e.info,e.tags))))}refresh(){this._onDidChangeTreeData.fire()}};class d extends l.TreeItem{name;description_info;description_info_zh;meta;info;tags;collapsibleState;constructor(e,t,n,i,a,r,o=l.TreeItemCollapsibleState.None){super(e,o),this.name=e,this.description_info=t,this.description_info_zh=n,this.meta=i,this.info=a,this.tags=r,this.collapsibleState=o,this.description=`${this.meta.difficulty} - ${this.meta.recommend} - ${this.info.status} `,this.tooltip=`${this.description_info_zh} - ${this.info.updateTime} - ${this.tags}`}}t.ProblemItem=d},398:e=>{e.exports=require("vscode")},896:e=>{e.exports=require("fs")},928:e=>{e.exports=require("path")}},t={},n=function n(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}(265);module.exports=n})();