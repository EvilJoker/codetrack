# myplugin

## 架构设计文档

### 1. 功能概述

该VSCode插件旨在帮助用户高效地进行刷题，支持以下功能：

- 从文件中扫描所有题目信息
- 展示现有的题目列表
- 可以为题目打标签
- 按照标签进行分类展示

### 2. 系统架构

#### 2.1 数据管理

- **题目数据管理**：题目数据将存储在本地文件中，使用JSON格式进行存储。每个题目包含题目ID、题目名称、题目描述、标签等信息。
每个题目都是一个文件,目录下有meta.json

    ```json
    {
        "id": "1",
        "name": "Two Sum",
        "name_zh": "Two Sum",
        "description": "Given an array of integers, return indices of the two numbers such that they add up to a specific target.",
        "description_zh": "Given an array of integers, return indices of the two numbers such that they add up to a specific target.",
        "meta": {
            "difficulty": "easy", //显示题目的难度级别，如“easy”、“mid”、“hard”。
            "recommend": "baisc" // 显示题目的推荐级别，如“baisc”、“need”、“challenge”
        },
        "info": {
            "updateTime": "2023-10-01T12:00:00Z",
            "status": "plan" //显示题目是否已完成，如“plan”、“doing”、“done”。
        },
        "tags": ["array", "hash-table"]
    }
    ```

- **标签数据管理**：标签数据也将存储在本地文件中，使用JSON格式进行存储。每个标签包含标签ID、标签名称等信息。
存储在项目根目录下 config.json

    ```json
    {
        "tags": [
            {
                "id": 1,
                "name": "array",
                "name_zh": "数组",
            }
        ]
        
    }
    ```

### 2.3 UI界面

#### 2.3.1 界面入口

- **图标名称**：CodeTrack
- **位置**：在 VS Code 的 Activity Bar 新增一个图标，使用 VS Code 内置的 `codetrack` 图标。
- **功能**：点击图标后展开侧边栏面板，展示主菜单选项。

#### 2.3.2 搜索栏和排序按钮

- **位置**：sidebar --
- **功能描述**：
  - 使用 webview 组件
  - 提供搜索框，用户可以输入关键词快速查找题目。类似 vscode 插件 上方的搜索栏
  - 支持按照更新时间、难易程度、推荐等级、完成状态进行排序。
    >- 搜索框右侧新增排序按钮，点击后出现下拉菜单
    >- 更新时间、难易程度、推荐等级、完成状态的升序和降序。
    >- 用户选择后题目可以按要求排列顺序。

#### 2.3.3 题目列表界面 (Problem List View)

- **界面名称**：题目列表
- - **位置**： sidebar
- **功能描述**：
  - 展示所有题目，支持分页显示。
  - 用户鼠标悬浮题目时展示详细信息（如题目描述、难度、推荐等级等）。
  - 点击题目后跳转到题目对应的目录或编辑页面。
  - 显示更新时间、难易程度、推荐等级、完成状态。

#### 2.3.4 标签管理界面 (Tag Management View)

- **界面名称**：标签管理
- **位置**：sidebar
- **功能描述**：
  - 展示所有标签，以列表形式呈现。
  - 用户可以添加新标签，编辑现有标签名称，删除不再需要的标签。
  - 每个标签显示其关联题目的数量。
  - 提供搜索框，用户可以输入关键词快速查找标签。

#### 2.3.5 分类展示界面 (Categorized Problem View)

- **界面名称**：分类展示
- **位置**：sidebar
- **功能描述**：
  - 按照标签分类展示题目，每个标签为一个分类项。
  - 用户可以选择多个标签进行组合筛选，展示符合多个标签条件的题目。
  - 每个分类项下展示题目的简要信息（如题目名称、难度、推荐等级等）。
  - 支持点击分类项进入该分类下的题目列表视图。
  - 提供重置按钮，清除当前筛选条件，恢复默认展示。

通过以上具体命名和功能描述，明确了各个UI界面的具体用途和交互方式，确保用户能够直观地理解和使用插件的各项功能。

#### 2.4 数据持久化

- **本地文件存储**：题目数据和标签数据将存储在本地文件中，使用JSON格式进行存储，确保数据的持久化。

#### 2.5 日志设计

- **独立的输出通道**：vscode outputChannel 独立输出日志

### 3. 技术选型

- **VSCode API**：使用VSCode提供的API进行插件开发，确保插件与VSCode的兼容性。
- **Node.js**：使用Node.js作为插件的运行环境，确保插件的稳定性和性能。
- **TypeScript**：使用TypeScript进行插件开发，确保代码的可维护性和可读性。

[02 开发指导文档.md](02%20开发指导文档.md)

### 4. 开发流程

1. **需求分析**：明确插件的功能需求和非功能需求。
2. **设计架构**：设计系统的整体架构，包括数据管理、命令扩展、UI界面和数据持久化。
3. **编码实现**：根据设计的架构进行编码实现，确保代码的质量和性能。
4. **测试验证**：对插件进行功能测试和性能测试，确保插件的稳定性和可靠性。
5. **发布上线**：将插件发布到VSCode插件市场，供用户下载和使用。

### 5. 部署与运维

- **插件部署**：将插件部署到VSCode插件市场，供用户下载和使用。
- **插件运维**：对插件进行持续的运维，确保插件的稳定性和可靠性。

### 6. 安全性

- **数据加密**：对存储的题目数据和标签数据进行加密，确保数据的安全性。
- **权限控制**：对插件的操作进行权限控制，确保插件的安全性。

### 7. 可扩展性

- **插件扩展**：插件支持扩展，用户可以根据需要添加新的功能。
- **插件集成**：插件支持与其他VSCode插件集成，提高插件的灵活性和实用性。

### 8. 用户文档

- **使用手册**：提供详细的使用手册，帮助用户快速上手。
- **常见问题**：提供常见问题解答，帮助用户解决使用过程中遇到的问题。

### 9. 开源与社区

- **开源代码**：插件代码开源，用户可以查看和修改代码。
- **社区支持**：建立社区，用户可以交流使用经验，提出改进建议。

### 10. 总结

该VSCode插件旨在帮助用户高效地进行刷题，支持展示题目列表、给题目打标签以及按标签分类展示的功能。通过合理的设计和开发，确保插件的稳定性和可靠性，为用户提供优质的刷题体验。
